<!DOCTYPE html>
<html>
  <head>

    <meta charset="utf-8">
    <title>Duck Crossing</title>
    <meta name="Duck Crossing" content="Duck Crossing">  
    <script src="https://aframe.io/releases/0.7.0/aframe.js"></script>
    <!--script src="https://cdn.rawgit.com/AltspaceVR/aframe-altspace-component/v2.9.0/dist/aframe-altspace-component.min.js"></script-->
    <script src="https://sdk.altvr.com/libs/altspace.js/2.9.0/altspace.js"></script>
    <!--script src="https://cdn.rawgit.com/norybiak/Aframe-gltf/v0.1.1/dist/aframe-gltf.js"></script-->
    <script src="cached-model.js"></script>
    <!--script>
      // n-skeleton-parent only works with root meshes at the moment. Since most model loaders use a root
      // container object, we need to collapse the model so that n-skeleton-parent can access the mesh directly.
      AFRAME.registerComponent('collapse-model', {
        init: function () {
          this.el.addEventListener('model-loaded', function () {
            this.el.setObject3D('mesh', this.el.object3DMap.mesh.children[0]);
            // setObject3D emits this event in a-frame 0.4.0
            this.el.emit('object3dset', {type: 'mesh'});
          }.bind(this));
        }
      });
    </script-->

</head>
  <body>

    <a-scene altspace="verticalAlign: middle; fullspace: true" vr-mode-ui="enabled: false" sync-system='app: Dod; author: Ducky'> 

      <!-- Asset Loading -->

      <a-assets> 
        <a-asset-item id="street-mtl" src="street.mtl"></a-asset-item>
        <a-asset-item id="street-obj" src="street.obj"></a-asset-item>
        <a-asset-item id="car1-obj" src="car1.obj"></a-asset-item>
        <a-asset-item id="car2-obj" src="car2.obj"></a-asset-item>
        <a-asset-item id="car3-obj" src="car3.obj"></a-asset-item>
        <a-asset-item id="car4-obj" src="car4.obj"></a-asset-item>
        <a-asset-item id="car1-mtl" src="car1/car1.mtl"></a-asset-item>
        <a-asset-item id="car2-mtl" src="car2/car2.mtl"></a-asset-item>
        <a-asset-item id="car3-mtl" src="car3/car3.mtl"></a-asset-item>
        <a-asset-item id="car4-mtl" src="car4/car4.mtl"></a-asset-item>
        <a-asset-item id="face2-obj" src="face2.obj"></a-asset-item>
        <a-asset-item id="face2-mtl" src="face2.mtl"></a-asset-item>
        <a-asset-item id="boat-mtl" src="boat.mtl"></a-asset-item>
        <a-asset-item id="boat-obj" src="boat.obj"></a-asset-item>
        <a-asset-item id="mailbox-mtl" src="mailbox.mtl"></a-asset-item>
        <a-asset-item id="mailbox-obj" src="mailbox.obj"></a-asset-item>
        <a-asset-item id="duck-mtl" src="duck.mtl"></a-asset-item>
        <a-asset-item id="duck-obj" src="duck.obj"></a-asset-item>
        <a-asset-item id="tc-mtl" src="tc.mtl"></a-asset-item>
        <a-asset-item id="tc-obj" src="tc.obj"></a-asset-item>
        <img id="sky" src="sky.jpg">
        <img id="water" src="water.1024x512.jpg">
        <img id="bark" src="bark.jpg">
        <img id="sign" src="sign.png">
        <img id="side" src="conc.512x512.jpg">
        <img id="music-icon" src="music.jpg"/>
        <img id="duck-icon" src="duck.jpg"/>
        <img id="info-icon" src="info.jpg"/>
        <img id="orng" src="orng.jpg"/>
        <img id="info1" src="info1.jpg"/>

        <a-mixin id="map" geometry="primitive: plane" material="src: #info1" collapse-model scale="1.5 1.5 0.1"></a-mixin>
        <a-mixin id="map-spine" rotation="0 0 0" n-skeleton-parent="part: spine;" position="0 0.65 -2" sync sync-n-skeleton-parent></a-mixin>

        <a-mixin id="duck" cached-obj-model="obj: #duck-obj; mtl: #duck-mtl" collapse-model scale="1 1 1"></a-mixin>
        <a-mixin id="duck-spine" rotation="0 -90 0" n-skeleton-parent="part: spine;" position="0 -0.4 -0.05" sync sync-n-skeleton-parent></a-mixin>

      </a-assets>


      <a-entity id="menu1" n-text="fontSize: 3; text: <#0000BB>Duck Crossing" position='-0.81 0.16 -1.60' rotation="-25 0 0" scale="0.15 0.15 0.05" n-cockpit-parent></a-entity>

      <a-entity geometry="primitive: box" material="src: #orng" position='-0.81 0.075 -1.595' rotation="-25 0 0" scale="0.6 0.25 0.03" n-cockpit-parent altspace-cursor-collider="enabled: true"></a-entity>

      <a-entity geometry="primitive: box" material="src: #music-icon" position='-1 0.05 -1.55' rotation="-25 0 0" scale="0.15 0.15 0.03" n-cockpit-parent wire="on: click; emit: soundt; targets: #wav" altspace-cursor-collider="enabled: true"></a-entity>

      <a-entity id="map-spine-instantiator" geometry="primitive: box" material="src: #info-icon" position='-0.81 0.05 -1.55' rotation="-25 0 0" scale="0.15 0.15 0.03" n-cockpit-parent instantiator="on: click; group: mapg; mixin: map map-spine" altspace-cursor-collider="enabled: true"></a-entity>

      <a-entity id="duck-spine-instantiator" geometry="primitive: box" material="src: #duck-icon" position='-0.62 0.05 -1.55' rotation="-25 0 0" scale="0.15 0.15 0.03" n-cockpit-parent instantiator="on: click; group: duckbb; mixin: duck duck-spine" altspace-cursor-collider="enabled: true"></a-entity>

      <a-entity position="0 0 0" rotation="0 90 0">

      <a-entity id="ground1" position="0 0 0">
      <a-animation attribute="position" begin="on: shake" dur="200" easing="linear" repeat="75" fill="backwards" from="0 0 0" to="0 0 0.5"></a-animation>
      <a-entity id="ground2" position="0 0 0">
      <a-animation attribute="position" begin="on: shake" dur="225" easing="linear" repeat="65" fill="backwards" from="0 0 0" to="0 0.3 0"></a-animation>
      <a-entity id="ground3" position="0 0 0">
      <!a-animation attribute="position" begin="on: shake" dur="250" easing="linear" repeat="55" fill="backwards" from="0 0 0" to="0.5 0 0"></a-animation>
      <a-entity id="shakes" position="32 10 0" n-sound="src: shake.wav; on: shake; volume: 1; spatialBlend: 0; rolloff: logarithmic; minDistance: 400; maxDistance: 500"></a-entity>
      <a-obj-model scale="3 3 3" src="#street-obj" mtl="#street-mtl" position="0 0.04 0" n-mesh-collider="type: environment; convex: false"></a-obj-model>
      <a-obj-model scale="3 3 3" src="#face2-obj" mtl="#face2-mtl" position="0 0.04 0"></a-obj-model>
      <a-entity id="wav" position="0 0 0">
        <a-entity id="song" position="32 10 0" n-sound="src: music.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 300"></a-entity>
        <a-entity geometry="primitive: box" material="color: green" position="8.64 3.2 -1497.09" scale="0.1 0.1 0.03" rotation="0 -115.7374746164263 0" wire="on: click; emit: soundt; targets: #wav"></a-entity>
        <a-entity geometry="primitive: box" material="color: red" position="8.64 3.2 2.91" scale="0.1 0.1 0.03" rotation="0 -115.7374746164263 0" wire="on: click; emit: soundt; targets: #wav"></a-entity>
        <a-entity geometry="primitive: box" material="color: green" position="66.6 28.93 -1513.35" scale="0.1 0.1 0.03" rotation="0 0 0" wire="on: click; emit: soundt; targets: #wav"></a-entity>
        <a-entity geometry="primitive: box" material="color: red" position="66.6 28.93 -13.35" scale="0.1 0.1 0.03" rotation="0 0 0" wire="on: click; emit: soundt; targets: #wav"></a-entity>
        <a-animation id="wav" attribute="position" begin="on: soundt" dur="0.000001" easing="linear" repeat="0" fill="forwards" direction="alternate" from="0 0 0" to="0 0 1500"></a-animation>
      </a-entity>
      <a-cylinder position="8.78 2.35 2.95" src="#bark" scale="0.09 3 0.09" segments-height="1" segments-radial="8"></a-cylinder>
      <a-plane position="8.64 3.28 2.91" src="#sign" scale="0.46 0.69 0.46" rotation="0 -115.7374746164263 0"></a-plane>
      <a-plane position="66.6 28.88 -13.35" src="#sign" scale="0.46 0.69 0.46" rotation="0 180 0"></a-plane>
      <a-entity position="63.31 -0.2 -29.61">
        <a-box length="5" hight="5" position="0 0 0" material="src:#bark" rotation="0 0 0" scale="2.44 4 2.5" n-mesh-collider="type: environment; convex: false"></a-box>
        <a-box length="5" hight="5" position="0 -0.2 0" material="src:#bark" rotation="0 0 0" scale="2.44 4 2.5" n-mesh-collider="type: environment; convex: false"></a-box>
        <a-box length="5" hight="5" position="0 -0.4 0" material="src:#bark" rotation="0 0 0" scale="2.44 4 2.5" n-mesh-collider="type: environment; convex: false"></a-box>
        <a-animation attribute="position" begin="on: click" dur="6000" easing="linear" repeat="0" fill="backwards" from="63.31 -0.2 -29.61" to="63.31 26 -29.61"></a-animation>
        <a-entity geometry="primitive: box" material="color: red" position="0.8 3 0" scale="0.03 0.1 0.1"></a-entity>
      </a-entity>

      <a-box position="63.95 24.59 -29.5" color="black" rotation="0 -89.95437383553924 45.26366581533504" scale="0.41 3.84 3.6" n-mesh-collider="type:environment;convex:false"></a-box>

      <a-box position="25.86 1.42 -205.14" color="black" rotation="0 0 90" scale="25.46 73.53 317.53" n-mesh-collider="type:environment;convex:false"></a-box>
      <a-box position="25.86 1.42 204.82" color="black" rotation="0 0 90" scale="25.46 73.53 317.53" n-mesh-collider="type:environment;convex:false"></a-box>

      <a-box position="4.66 1.38 8.22" src="#side" rotation="0 0 90" scale="0.46 7.69 9.76" color="#d6d6d6" n-mesh-collider="type:environment;convex:false"></a-box>
     
      <a-entity position="8.5 1.3 -3.5" rotation="0 180 0">
        <cached-obj-model scale="0.9 1.5 0.9" src="#mailbox-obj" mtl="#mailbox-mtl" rotation="0 0 0" position="0 0 0" n-mesh-collider="type: environment; convex: false"></cached-obj-model>
        <a-entity id="box1" position="0 0 0" n-box-collider="isTrigger:true; type:environment; size: 0.5 0.5 0.5" n-container="capacity:1" wire="on: container-full; emit: day; targets: #skybox"></a-entity>
      </a-entity>
      <a-entity position="8.5 1.3 -28.75" rotation="0 180 0">
        <cached-obj-model scale="0.9 1.5 0.9" src="#mailbox-obj" mtl="#mailbox-mtl" rotation="0 0 0" position="0 0 0" n-mesh-collider="type: environment; convex: false"></cached-obj-model>
        <a-entity id="box2" position="0 0 0" n-box-collider="isTrigger:true; type:environment; size: 0.5 0.5 0.5" n-container="capacity:1" wire="on: container-full; emit: night; targets: #skybox"></a-entity>
      </a-entity>
      <a-entity id="shakebasket" position="8.5 1.3 31" rotation="0 180 0">
        <cached-obj-model scale="0.9 1.5 0.9" src="#mailbox-obj" mtl="#mailbox-mtl" rotation="0 0 0" position="0 0 0" n-mesh-collider="type: environment; convex: false"></cached-obj-model>
        <a-entity id="box2" position="0 0 0" n-box-collider="isTrigger:true; type:environment; size: 0.5 0.5 0.5" n-container="capacity:1" wire="on: container-full; emit: shake; targets: #ground1, #ground2, #ground3, #shakes, #shakebasket"></a-entity>
        <a-animation attribute="position" begin="on: shake" dur="300000" easing="linear" repeat="0" fill="backwards" from="0 0 0" to="0 -30000 0"></a-animation>
      </a-entity>


      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="56.19 3.32 14.56" n-mesh-collider="type:environment;convex:false"></cached-obj-model>
      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="5.41 2.86 19.25" n-mesh-collider="type:environment;convex:false" rotation="0 -142.01 0"></cached-obj-model>
      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="6.59 3.12 32.82" n-mesh-collider="type:environment;convex:false" rotation="0 119.175 0"></cached-obj-model>
      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="8.59 3.12 38.49" n-mesh-collider="type:environment;convex:false" rotation="0 162.147 0"></cached-obj-model>
      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="8.59 3.12 -35" n-mesh-collider="type:environment;convex:false" rotation="0 162.147 0"></cached-obj-model>
      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="56.83 3.12 -24.61" n-mesh-collider="type:environment;convex:false" rotation="0 -0.573 0"></cached-obj-model>
      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="56.83 3.12 23.18" n-mesh-collider="type:environment;convex:false" rotation="0 -75.06 0"></cached-obj-model>
      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="56.83 3.12 39.59" n-mesh-collider="type:environment;convex:false" rotation="0 -133.5 0"></cached-obj-model>
      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="6.4 2.86 -7.58" n-mesh-collider="type:environment;convex:false" rotation="0 -82.5 0"></cached-obj-model>

      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="31.55 3.12 -27.21" n-mesh-collider="type:environment;convex:false" rotation="0 -80.21 0"></cached-obj-model>
      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="31.04 3.12 16.42" n-mesh-collider="type:environment;convex:false" rotation="0 -10.31 0"></cached-obj-model>
      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="32.5 3.12 33.31" n-mesh-collider="type:environment;convex:false" rotation="0 -126.6 0"></cached-obj-model>

      <cached-obj-model scale="1 1 1" src="#tc-obj" mtl="#tc-mtl" position="-12.27 40.02 -0.82" n-mesh-collider="type:environment;convex:false" rotation="0 162.15 0"></cached-obj-model>

      <a-plane length="5" hight="5" position="41.65 1.35 17.27" material="src:#water" geometry="primitive:plane" rotation="-90 0 0" scale="27.46 134.91 50.31">
        <a-animation attribute="position" dur="40000" easing="linear" repeat="indefinite" fill="forwards" from="41.65 1.35 17.27" to="41.65 1.35 -10"></a-animation>
      </a-plane>

       </a-entity>
      </a-entity>
      </a-entity>

      <cached-obj-model scale="3.5 3.5 3.5" src="#duck-obj" mtl="#duck-mtl" position="34.39 0.04 0" rotation="0 90 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="50000" easing="linear" repeat="indefinite" fill="forwards" from="34.39 0.9 -200" to="34.39 0.9 50"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" position="34.39 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="50000" easing="linear" repeat="indefinite" fill="forwards" from="34.39 0.9 -150" to="34.39 0.9 100"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" position="34.39 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="50000" easing="linear" repeat="indefinite" fill="forwards" from="34.39 0.9 -100" to="34.39 0.9 150"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" position="34.39 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="50000" easing="linear" repeat="indefinite" fill="forwards" from="34.39 0.9 -50" to="34.39 0.9 200"></a-animation>
      </cached-obj-model>

      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" rotation="0 180 0" position="37.47 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="40000" easing="linear" repeat="indefinite" fill="forwards" from="37.47 0.9 200" to="37.47 0.9 -50"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" rotation="0 180 0" position="37.47 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="40000" easing="linear" repeat="indefinite" fill="forwards" from="37.47 0.9 150" to="37.47 0.9 -100"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" rotation="0 180 0" position="37.47 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="40000" easing="linear" repeat="indefinite" fill="forwards" from="37.47 0.9 100" to="37.47 0.9 -150"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" rotation="0 180 0" position="37.47 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="40000" easing="linear" repeat="indefinite" fill="forwards" from="37.47 0.9 50" to="37.47 0.9 -200"></a-animation>
      </cached-obj-model>

      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" position="40.42 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="60000" easing="linear" repeat="indefinite" fill="forwards" from="40.42 0.9 -200" to="40.42 0.9 50"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" position="40.42 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="60000" easing="linear" repeat="indefinite" fill="forwards" from="40.42 0.9 -150" to="40.42 0.9 100"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" position="40.42 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="60000" easing="linear" repeat="indefinite" fill="forwards" from="40.42 0.9 -100" to="40.42 0.9 150"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" position="40.42 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="60000" easing="linear" repeat="indefinite" fill="forwards" from="40.42 0.9 -50" to="40.42 0.9 200"></a-animation>
      </cached-obj-model>

      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" rotation="0 180 0" position="43.28 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="45000" easing="linear" repeat="indefinite" fill="forwards" from="43.28 0.9 200" to="43.28 0.9 -50"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" rotation="0 180 0" position="43.28 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="45000" easing="linear" repeat="indefinite" fill="forwards" from="43.28 0.9 150" to="43.28 0.9 -100"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" position="43.28 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="45000" easing="linear" rotation="0 180 0" repeat="indefinite" fill="forwards" from="43.28 0.9 100" to="43.28 0.9 -150"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" rotation="0 180 0" position="43.28 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="45000" easing="linear" repeat="indefinite" fill="forwards" from="43.28 0.9 50" to="43.28 0.9 -200"></a-animation>
      </cached-obj-model>

      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" position="46.4 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="65000" easing="linear" repeat="indefinite" fill="forwards" from="46.4 0.9 -200" to="46.4 0.9 50"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" position="46.4 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="65000" easing="linear" repeat="indefinite" fill="forwards" from="46.4 0.9 -150" to="46.4 0.9 100"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" position="46.4 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="65000" easing="linear" repeat="indefinite" fill="forwards" from="46.4 0.9 -100" to="46.4 0.9 150"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="3.5 3.5 3.5" src="#boat-obj" mtl="#boat-mtl" position="46.4 0.04 0" n-mesh-collider="type: environment; convex: false">
        <a-animation attribute="position" dur="65000" easing="linear" repeat="indefinite" fill="forwards" from="46.4 0.9 -50" to="46.4 0.9 200"></a-animation>
      </cached-obj-model>


      <cached-obj-model scale="1.9 1.9 1.9" src="#car1-obj" mtl="#car1-mtl" rotation="0 0 0" position="15.55 1.55 -10" n-mesh-collider="type: environment; convex: false">
        <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-entity id="car1a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car1b"></a-entity>
        <a-entity id="car1b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
        <a-animation attribute="position" dur="10000" easing="linear" repeat="indefinite" fill="forwards" from="15.55 1.55 -200" to="15.55 1.55 50"></a-animation>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car2-obj" mtl="#car2-mtl" rotation="0 0 0" position="15.55 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="10000" easing="linear" repeat="indefinite" fill="forwards" from="15.55 1.55 -150" to="15.55 1.55 100"></a-animation>
        <a-entity id="car2a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car2b"></a-entity>
        <a-entity id="car2b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car3-obj" mtl="#car3-mtl" rotation="0 0 0" position="15.55 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="10000" easing="linear" repeat="indefinite" fill="forwards" from="15.55 1.55 -100" to="15.55 1.55 150"></a-animation>
        <a-entity id="car3a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car3b"></a-entity>
        <a-entity id="car3b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car4-obj" mtl="#car4-mtl" rotation="0 0 0" position="15.55 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="10000" easing="linear" repeat="indefinite" fill="forwards" from="15.55 1.55 -50" to="15.55 1.55 200"></a-animation>
        <a-entity id="car4a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car4b"></a-entity>
        <a-entity id="car4b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>

      <cached-obj-model scale="1.9 1.9 1.9" src="#car2-obj" mtl="#car2-mtl" rotation="0 180 0" position="18.87 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="8000" easing="linear" repeat="indefinite" fill="forwards" from="18.87 1.55 200" to="18.87 1.55 -50"></a-animation>
        <a-entity id="car5a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car5b"></a-entity>
        <a-entity id="car5b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car1-obj" mtl="#car1-mtl" rotation="0 180 0" position="18.87 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="8000" easing="linear" repeat="indefinite" fill="forwards" from="18.87 1.55 150" to="18.87 1.55 -100"></a-animation>
        <a-entity id="car6a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car6b"></a-entity>
        <a-entity id="car6b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car4-obj" mtl="#car4-mtl" rotation="0 180 0" position="18.87 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="8000" easing="linear" repeat="indefinite" fill="forwards" from="18.87 1.55 100" to="18.87 1.55 -150"></a-animation>
        <a-entity id="car7a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car7b"></a-entity>
        <a-entity id="car7b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car3-obj" mtl="#car3-mtl" rotation="0 180 0" position="18.87 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="8000" easing="linear" repeat="indefinite" fill="forwards" from="18.87 1.55 50" to="18.87 1.55 -200"></a-animation>
        <a-entity id="car8a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car8b"></a-entity>
        <a-entity id="car8b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>

      <cached-obj-model scale="1.9 1.9 1.9" src="#car4-obj" mtl="#car4-mtl" rotation="0 0 0" position="22.23 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="9500" easing="linear" repeat="indefinite" fill="forwards" from="22.23 1.55 -200" to="22.23 1.55 50"></a-animation>
        <a-entity id="car9a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car9b"></a-entity>
        <a-entity id="car9b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car3-obj" mtl="#car3-mtl" rotation="0 0 0" position="22.23 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="9500" easing="linear" repeat="indefinite" fill="forwards" from="22.23 1.55 -150" to="22.23 1.55 100"></a-animation>
        <a-entity id="car11a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car11b"></a-entity>
        <a-entity id="car11b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car1-obj" mtl="#car1-mtl" rotation="0 0 0" position="22.23 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="9500" easing="linear" repeat="indefinite" fill="forwards" from="22.23 1.55 -100" to="22.23 1.55 150"></a-animation>
        <a-entity id="car22a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car22b"></a-entity>
        <a-entity id="car22b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car2-obj" mtl="#car2-mtl" rotation="0 0 0" position="22.23 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="9500" easing="linear" repeat="indefinite" fill="forwards" from="22.23 1.55 -50" to="22.23 1.55 200"></a-animation>
      </cached-obj-model>

      <cached-obj-model scale="1.9 1.9 1.9" src="#car3-obj" mtl="#car3-mtl" rotation="0 180 0" position="25.55 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="8500" easing="linear" repeat="indefinite" fill="forwards" from="25.55 1.55 200" to="25.55 1.55 -50"></a-animation>
        <a-entity id="car33a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car33b"></a-entity>
        <a-entity id="car33b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car2-obj" mtl="#car2-mtl" rotation="0 180 0" position="25.55 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="8500" easing="linear" repeat="indefinite" fill="forwards" from="25.55 1.55 150" to="25.55 1.55 -100"></a-animation>
        <a-entity id="car44a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car44b"></a-entity>
        <a-entity id="car44b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car4-obj" mtl="#car4-mtl" rotation="0 180 0" position="25.55 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="8500" easing="linear" repeat="indefinite" fill="forwards" from="25.55 1.55 100" to="25.55 1.55 -150"></a-animation>
        <a-entity id="car55a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car55b"></a-entity>
        <a-entity id="car55b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car1-obj" mtl="#car1-mtl" rotation="0 180 0" position="25.55 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="8500" easing="linear" repeat="indefinite" fill="forwards" from="25.55 1.55 50" to="25.55 1.55 -200"></a-animation>
        <a-entity id="car66a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car66b"></a-entity>
        <a-entity id="car66b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>

      <cached-obj-model scale="1.9 1.9 1.9" src="#car1-obj" mtl="#car1-mtl" rotation="0 0 0" position="29 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="7500" easing="linear" repeat="indefinite" fill="forwards" from="29 1.55 -200" to="29 1.55 50"></a-animation>
        <a-entity id="car77a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car77b"></a-entity>
        <a-entity id="car77b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car4-obj" mtl="#car4-mtl" rotation="0 0 0" position="29 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="7500" easing="linear" repeat="indefinite" fill="forwards" from="29 1.55 -150" to="29 1.55 100"></a-animation>
        <a-entity id="car88a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car88b"></a-entity>
        <a-entity id="car88b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car3-obj" mtl="#car3-mtl" rotation="0 0 0" position="29 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="7500" easing="linear" repeat="indefinite" fill="forwards" from="29 1.55 -100" to="29 1.55 150"></a-animation>
        <a-entity id="car99a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car99b"></a-entity>
        <a-entity id="car99b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>
      <cached-obj-model scale="1.9 1.9 1.9" src="#car2-obj" mtl="#car2-mtl" rotation="0 0 0" position="29 1.55 -10" n-mesh-collider="type: environment; convex: false">
      <a-entity n-sound="src: car1.wav; loop: true; autoplay: true; volume: 0.1; rolloff: cosine; minDistance: 1; maxDistance: 25"></a-entity>
        <a-animation attribute="position" dur="7500" easing="linear" repeat="indefinite" fill="forwards" from="29 1.55 -50" to="29 1.55 200"></a-animation>
        <a-entity id="car12a" position="0 0.8 0" n-box-collider="isTrigger:true; type:environment; size: 1.1 1 3.2" n-container="capacity:1" wire="on: container-full; emit: crashing; targets: #car12b"></a-entity>
        <a-entity id="car12b" position="0 0 0" n-sound="src: crash.wav; on: crashing; volume: 1; rolloff: logarithmic; minDistance: 1; maxDistance: 80"></a-entity>
      </cached-obj-model>

      <a-entity position="50 -4.47 0">
      <a-box position="-18 0 0" color="black" rotation="0 0 0" scale="0.72 11.28 93.16" n-mesh-collider="type:environment;convex:false"></a-box>
      <a-box position="-12 0 0" color="black" rotation="0 0 0" scale="0.72 11.28 93.16" n-mesh-collider="type:environment;convex:false"></a-box>
      <a-box position="-6 0 0" color="black" rotation="0 0 0" scale="0.72 11.28 93.16" n-mesh-collider="type:environment;convex:false"></a-box>
      <a-box position="0 0 0" color="black" rotation="0 0 0" scale="0.72 11.28 93.16" n-mesh-collider="type:environment;convex:false"></a-box>
      <a-box position="6 0 0" color="black" rotation="0 0 0" scale="0.72 11.28 93.16" n-mesh-collider="type:environment;convex:false"></a-box>
      <a-box position="12 0 0" color="black" rotation="0 0 0" scale="0.72 11.28 93.16" n-mesh-collider="type:environment;convex:false"></a-box>
      <a-box position="18 0 0" color="black" rotation="0 0 0" scale="0.72 11.28 93.16" n-mesh-collider="type:environment;convex:false"></a-box>
      <a-animation attribute="position" dur="3000" easing="linear" repeat="indefinite" fill="forwards" from="50 -4.3 0" to="32 -4.3 0"></a-animation>
      </a-entity>
      
      <a-box position="36.77 -2.68 0" color="black" rotation="0 0 45.26366581533504" scale="0.72 11.28 93.16" n-mesh-collider="type:environment;convex:false"></a-box>
                   
    <!-- Aframe adds-->

      <a-entity n-spawner="res:interactables/box" position="2 3 5"></a-entity>
      <a-entity n-spawner="res:interactables/soccerball" position="2 3 6"></a-entity>
      <a-entity n-spawner="res:interactables/bowlingball" position="2 3 7"></a-entity>
      <a-entity n-spawner="res:interactables/gem" position="2 2 8"></a-entity>
      <a-entity n-spawner="res:interactables/basketball" position="2 3 9"></a-entity>
      
      </a-entity>

    <!-- Sky load and animation -->

      <a-sky id="skybox" radius="1000" rotation="1" src="#sky" segments-width="16" segments-height="16">
        <a-animation begin="day" attribute="rotation" dur="0.0001" repeat="0" to="0 0 0"></a-animation>
        <a-animation begin="night" attribute="rotation" dur="0.0001" repeat="0" to="180 0 0"></a-animation>
      </a-sky>


    </a-scene>
    <script>
    altspace.getUser().then(function(user){
      document.querySelector('#menu1').setAttribute('n-text', {fontSize:3,  text: '<#ffffd3>Duck Crossing:  ' + user.displayName });
    });
    </script>
  </body>
</html>
